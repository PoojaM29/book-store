function cov_15ibpb14a1(){var path="C:\\Pooja\\Order Booking\\Backend\\controllers\\user.js";var hash="9dc01a996d5c9deecf24c0b30ec4612223aa29e5";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Pooja\\Order Booking\\Backend\\controllers\\user.js",statementMap:{"0":{start:{line:1,column:18},end:{line:1,column:38}},"1":{start:{line:2,column:17},end:{line:2,column:36}},"2":{start:{line:3,column:13},end:{line:3,column:46}},"3":{start:{line:4,column:16},end:{line:4,column:52}},"4":{start:{line:7,column:17},end:{line:7,column:19}},"5":{start:{line:8,column:22},end:{line:8,column:26}},"6":{start:{line:10,column:4},end:{line:13,column:5}},"7":{start:{line:11,column:8},end:{line:11,column:28}},"8":{start:{line:12,column:8},end:{line:12,column:65}},"9":{start:{line:15,column:4},end:{line:18,column:5}},"10":{start:{line:16,column:8},end:{line:16,column:28}},"11":{start:{line:17,column:8},end:{line:17,column:70}},"12":{start:{line:20,column:4},end:{line:23,column:5}},"13":{start:{line:21,column:8},end:{line:21,column:28}},"14":{start:{line:22,column:8},end:{line:22,column:62}},"15":{start:{line:25,column:4},end:{line:28,column:5}},"16":{start:{line:26,column:8},end:{line:26,column:28}},"17":{start:{line:27,column:8},end:{line:27,column:50}},"18":{start:{line:30,column:4},end:{line:39,column:5}},"19":{start:{line:31,column:8},end:{line:34,column:9}},"20":{start:{line:32,column:12},end:{line:32,column:32}},"21":{start:{line:33,column:12},end:{line:33,column:105}},"22":{start:{line:36,column:8},end:{line:38,column:9}},"23":{start:{line:37,column:12},end:{line:37,column:37}},"24":{start:{line:41,column:4},end:{line:44,column:6}},"25":{start:{line:48,column:17},end:{line:48,column:19}},"26":{start:{line:49,column:22},end:{line:49,column:26}},"27":{start:{line:51,column:4},end:{line:54,column:5}},"28":{start:{line:52,column:8},end:{line:52,column:28}},"29":{start:{line:53,column:8},end:{line:53,column:58}},"30":{start:{line:56,column:4},end:{line:59,column:5}},"31":{start:{line:57,column:8},end:{line:57,column:28}},"32":{start:{line:58,column:8},end:{line:58,column:50}},"33":{start:{line:61,column:4},end:{line:64,column:6}},"34":{start:{line:68,column:17},end:{line:68,column:19}},"35":{start:{line:69,column:22},end:{line:69,column:26}},"36":{start:{line:71,column:4},end:{line:74,column:5}},"37":{start:{line:72,column:8},end:{line:72,column:28}},"38":{start:{line:73,column:8},end:{line:73,column:76}},"39":{start:{line:76,column:4},end:{line:79,column:6}},"40":{start:{line:82,column:0},end:{line:263,column:2}},"41":{start:{line:85,column:31},end:{line:85,column:61}},"42":{start:{line:87,column:8},end:{line:92,column:9}},"43":{start:{line:88,column:12},end:{line:91,column:15}},"44":{start:{line:94,column:8},end:{line:106,column:21}},"45":{start:{line:95,column:12},end:{line:100,column:13}},"46":{start:{line:96,column:16},end:{line:99,column:19}},"47":{start:{line:102,column:12},end:{line:105,column:15}},"48":{start:{line:110,column:31},end:{line:110,column:58}},"49":{start:{line:112,column:8},end:{line:117,column:9}},"50":{start:{line:113,column:12},end:{line:116,column:15}},"51":{start:{line:119,column:8},end:{line:130,column:21}},"52":{start:{line:120,column:12},end:{line:124,column:13}},"53":{start:{line:121,column:16},end:{line:123,column:19}},"54":{start:{line:126,column:12},end:{line:129,column:15}},"55":{start:{line:134,column:23},end:{line:134,column:42}},"56":{start:{line:136,column:8},end:{line:164,column:15}},"57":{start:{line:139,column:16},end:{line:143,column:17}},"58":{start:{line:140,column:20},end:{line:142,column:23}},"59":{start:{line:145,column:33},end:{line:152,column:17}},"60":{start:{line:154,column:16},end:{line:157,column:19}},"61":{start:{line:160,column:16},end:{line:160,column:33}},"62":{start:{line:161,column:16},end:{line:163,column:19}},"63":{start:{line:168,column:21},end:{line:168,column:32}},"64":{start:{line:169,column:8},end:{line:177,column:15}},"65":{start:{line:173,column:16},end:{line:176,column:19}},"66":{start:{line:181,column:26},end:{line:181,column:37}},"67":{start:{line:182,column:31},end:{line:182,column:47}},"68":{start:{line:183,column:27},end:{line:183,column:38}},"69":{start:{line:184,column:24},end:{line:184,column:39}},"70":{start:{line:186,column:31},end:{line:186,column:59}},"71":{start:{line:188,column:8},end:{line:193,column:9}},"72":{start:{line:189,column:12},end:{line:192,column:15}},"73":{start:{line:195,column:8},end:{line:199,column:9}},"74":{start:{line:196,column:12},end:{line:198,column:15}},"75":{start:{line:201,column:8},end:{line:213,column:15}},"76":{start:{line:204,column:16},end:{line:206,column:19}},"77":{start:{line:209,column:16},end:{line:209,column:33}},"78":{start:{line:210,column:16},end:{line:212,column:19}},"79":{start:{line:217,column:21},end:{line:217,column:38}},"80":{start:{line:219,column:8},end:{line:237,column:11}},"81":{start:{line:220,column:12},end:{line:224,column:13}},"82":{start:{line:221,column:16},end:{line:223,column:19}},"83":{start:{line:226,column:12},end:{line:226,column:42}},"84":{start:{line:227,column:12},end:{line:227,column:24}},"85":{start:{line:229,column:12},end:{line:231,column:15}},"86":{start:{line:233,column:12},end:{line:233,column:29}},"87":{start:{line:234,column:12},end:{line:236,column:15}},"88":{start:{line:241,column:21},end:{line:241,column:38}},"89":{start:{line:243,column:8},end:{line:261,column:11}},"90":{start:{line:244,column:12},end:{line:248,column:13}},"91":{start:{line:245,column:16},end:{line:247,column:19}},"92":{start:{line:250,column:12},end:{line:250,column:43}},"93":{start:{line:251,column:12},end:{line:251,column:24}},"94":{start:{line:253,column:12},end:{line:255,column:15}},"95":{start:{line:257,column:12},end:{line:257,column:29}},"96":{start:{line:258,column:12},end:{line:260,column:15}}},fnMap:{"0":{name:"validateRegisterForm",decl:{start:{line:6,column:9},end:{line:6,column:29}},loc:{start:{line:6,column:39},end:{line:45,column:1}},line:6},"1":{name:"validateLoginForm",decl:{start:{line:47,column:9},end:{line:47,column:26}},loc:{start:{line:47,column:36},end:{line:65,column:1}},line:47},"2":{name:"validateAvatarForm",decl:{start:{line:67,column:9},end:{line:67,column:27}},loc:{start:{line:67,column:37},end:{line:80,column:1}},line:67},"3":{name:"(anonymous_3)",decl:{start:{line:83,column:14},end:{line:83,column:15}},loc:{start:{line:83,column:28},end:{line:107,column:5}},line:83},"4":{name:"(anonymous_4)",decl:{start:{line:94,column:48},end:{line:94,column:49}},loc:{start:{line:94,column:64},end:{line:106,column:9}},line:94},"5":{name:"(anonymous_5)",decl:{start:{line:109,column:11},end:{line:109,column:12}},loc:{start:{line:109,column:25},end:{line:131,column:5}},line:109},"6":{name:"(anonymous_6)",decl:{start:{line:119,column:45},end:{line:119,column:46}},loc:{start:{line:119,column:61},end:{line:130,column:9}},line:119},"7":{name:"(anonymous_7)",decl:{start:{line:133,column:16},end:{line:133,column:17}},loc:{start:{line:133,column:30},end:{line:165,column:5}},line:133},"8":{name:"(anonymous_8)",decl:{start:{line:138,column:18},end:{line:138,column:19}},loc:{start:{line:138,column:28},end:{line:158,column:13}},line:138},"9":{name:"(anonymous_9)",decl:{start:{line:159,column:19},end:{line:159,column:20}},loc:{start:{line:159,column:28},end:{line:164,column:13}},line:159},"10":{name:"(anonymous_10)",decl:{start:{line:167,column:24},end:{line:167,column:25}},loc:{start:{line:167,column:38},end:{line:178,column:5}},line:167},"11":{name:"(anonymous_11)",decl:{start:{line:172,column:18},end:{line:172,column:19}},loc:{start:{line:172,column:32},end:{line:177,column:13}},line:172},"12":{name:"(anonymous_12)",decl:{start:{line:180,column:18},end:{line:180,column:19}},loc:{start:{line:180,column:32},end:{line:214,column:5}},line:180},"13":{name:"(anonymous_13)",decl:{start:{line:203,column:18},end:{line:203,column:19}},loc:{start:{line:203,column:24},end:{line:207,column:13}},line:203},"14":{name:"(anonymous_14)",decl:{start:{line:208,column:19},end:{line:208,column:20}},loc:{start:{line:208,column:28},end:{line:213,column:13}},line:208},"15":{name:"(anonymous_15)",decl:{start:{line:216,column:19},end:{line:216,column:20}},loc:{start:{line:216,column:33},end:{line:238,column:5}},line:216},"16":{name:"(anonymous_16)",decl:{start:{line:219,column:35},end:{line:219,column:36}},loc:{start:{line:219,column:45},end:{line:232,column:9}},line:219},"17":{name:"(anonymous_17)",decl:{start:{line:232,column:17},end:{line:232,column:18}},loc:{start:{line:232,column:26},end:{line:237,column:9}},line:232},"18":{name:"(anonymous_18)",decl:{start:{line:240,column:21},end:{line:240,column:22}},loc:{start:{line:240,column:35},end:{line:262,column:5}},line:240},"19":{name:"(anonymous_19)",decl:{start:{line:243,column:35},end:{line:243,column:36}},loc:{start:{line:243,column:45},end:{line:256,column:9}},line:243},"20":{name:"(anonymous_20)",decl:{start:{line:256,column:17},end:{line:256,column:18}},loc:{start:{line:256,column:26},end:{line:261,column:9}},line:256}},branchMap:{"0":{loc:{start:{line:10,column:4},end:{line:13,column:5}},type:"if",locations:[{start:{line:10,column:4},end:{line:13,column:5}},{start:{line:10,column:4},end:{line:13,column:5}}],line:10},"1":{loc:{start:{line:10,column:8},end:{line:10,column:90}},type:"binary-expr",locations:[{start:{line:10,column:8},end:{line:10,column:16}},{start:{line:10,column:20},end:{line:10,column:53}},{start:{line:10,column:57},end:{line:10,column:90}}],line:10},"2":{loc:{start:{line:15,column:4},end:{line:18,column:5}},type:"if",locations:[{start:{line:15,column:4},end:{line:18,column:5}},{start:{line:15,column:4},end:{line:18,column:5}}],line:15},"3":{loc:{start:{line:15,column:8},end:{line:15,column:94}},type:"binary-expr",locations:[{start:{line:15,column:8},end:{line:15,column:16}},{start:{line:15,column:20},end:{line:15,column:56}},{start:{line:15,column:60},end:{line:15,column:94}}],line:15},"4":{loc:{start:{line:20,column:4},end:{line:23,column:5}},type:"if",locations:[{start:{line:20,column:4},end:{line:23,column:5}},{start:{line:20,column:4},end:{line:23,column:5}}],line:20},"5":{loc:{start:{line:20,column:8},end:{line:20,column:64}},type:"binary-expr",locations:[{start:{line:20,column:8},end:{line:20,column:16}},{start:{line:20,column:20},end:{line:20,column:64}}],line:20},"6":{loc:{start:{line:25,column:4},end:{line:28,column:5}},type:"if",locations:[{start:{line:25,column:4},end:{line:28,column:5}},{start:{line:25,column:4},end:{line:28,column:5}}],line:25},"7":{loc:{start:{line:25,column:8},end:{line:25,column:96}},type:"binary-expr",locations:[{start:{line:25,column:8},end:{line:25,column:16}},{start:{line:25,column:20},end:{line:25,column:56}},{start:{line:25,column:60},end:{line:25,column:96}}],line:25},"8":{loc:{start:{line:30,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:30,column:4},end:{line:39,column:5}},{start:{line:30,column:4},end:{line:39,column:5}}],line:30},"9":{loc:{start:{line:31,column:8},end:{line:34,column:9}},type:"if",locations:[{start:{line:31,column:8},end:{line:34,column:9}},{start:{line:31,column:8},end:{line:34,column:9}}],line:31},"10":{loc:{start:{line:36,column:8},end:{line:38,column:9}},type:"if",locations:[{start:{line:36,column:8},end:{line:38,column:9}},{start:{line:36,column:8},end:{line:38,column:9}}],line:36},"11":{loc:{start:{line:51,column:4},end:{line:54,column:5}},type:"if",locations:[{start:{line:51,column:4},end:{line:54,column:5}},{start:{line:51,column:4},end:{line:54,column:5}}],line:51},"12":{loc:{start:{line:51,column:8},end:{line:51,column:96}},type:"binary-expr",locations:[{start:{line:51,column:8},end:{line:51,column:16}},{start:{line:51,column:20},end:{line:51,column:56}},{start:{line:51,column:60},end:{line:51,column:96}}],line:51},"13":{loc:{start:{line:56,column:4},end:{line:59,column:5}},type:"if",locations:[{start:{line:56,column:4},end:{line:59,column:5}},{start:{line:56,column:4},end:{line:59,column:5}}],line:56},"14":{loc:{start:{line:56,column:8},end:{line:56,column:96}},type:"binary-expr",locations:[{start:{line:56,column:8},end:{line:56,column:16}},{start:{line:56,column:20},end:{line:56,column:56}},{start:{line:56,column:60},end:{line:56,column:96}}],line:56},"15":{loc:{start:{line:71,column:4},end:{line:74,column:5}},type:"if",locations:[{start:{line:71,column:4},end:{line:74,column:5}},{start:{line:71,column:4},end:{line:74,column:5}}],line:71},"16":{loc:{start:{line:71,column:8},end:{line:71,column:52}},type:"binary-expr",locations:[{start:{line:71,column:8},end:{line:71,column:16}},{start:{line:71,column:20},end:{line:71,column:52}}],line:71},"17":{loc:{start:{line:87,column:8},end:{line:92,column:9}},type:"if",locations:[{start:{line:87,column:8},end:{line:92,column:9}},{start:{line:87,column:8},end:{line:92,column:9}}],line:87},"18":{loc:{start:{line:95,column:12},end:{line:100,column:13}},type:"if",locations:[{start:{line:95,column:12},end:{line:100,column:13}},{start:{line:95,column:12},end:{line:100,column:13}}],line:95},"19":{loc:{start:{line:95,column:16},end:{line:95,column:29}},type:"binary-expr",locations:[{start:{line:95,column:16},end:{line:95,column:19}},{start:{line:95,column:23},end:{line:95,column:29}}],line:95},"20":{loc:{start:{line:112,column:8},end:{line:117,column:9}},type:"if",locations:[{start:{line:112,column:8},end:{line:117,column:9}},{start:{line:112,column:8},end:{line:117,column:9}}],line:112},"21":{loc:{start:{line:120,column:12},end:{line:124,column:13}},type:"if",locations:[{start:{line:120,column:12},end:{line:124,column:13}},{start:{line:120,column:12},end:{line:124,column:13}}],line:120},"22":{loc:{start:{line:120,column:16},end:{line:120,column:29}},type:"binary-expr",locations:[{start:{line:120,column:16},end:{line:120,column:19}},{start:{line:120,column:23},end:{line:120,column:29}}],line:120},"23":{loc:{start:{line:139,column:16},end:{line:143,column:17}},type:"if",locations:[{start:{line:139,column:16},end:{line:143,column:17}},{start:{line:139,column:16},end:{line:143,column:17}}],line:139},"24":{loc:{start:{line:188,column:8},end:{line:193,column:9}},type:"if",locations:[{start:{line:188,column:8},end:{line:193,column:9}},{start:{line:188,column:8},end:{line:193,column:9}}],line:188},"25":{loc:{start:{line:195,column:8},end:{line:199,column:9}},type:"if",locations:[{start:{line:195,column:8},end:{line:199,column:9}},{start:{line:195,column:8},end:{line:199,column:9}}],line:195},"26":{loc:{start:{line:195,column:12},end:{line:195,column:61}},type:"binary-expr",locations:[{start:{line:195,column:12},end:{line:195,column:40}},{start:{line:195,column:44},end:{line:195,column:61}}],line:195},"27":{loc:{start:{line:220,column:12},end:{line:224,column:13}},type:"if",locations:[{start:{line:220,column:12},end:{line:224,column:13}},{start:{line:220,column:12},end:{line:224,column:13}}],line:220},"28":{loc:{start:{line:244,column:12},end:{line:248,column:13}},type:"if",locations:[{start:{line:244,column:12},end:{line:248,column:13}},{start:{line:244,column:12},end:{line:248,column:13}}],line:244}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},b:{"0":[0,0],"1":[0,0,0],"2":[0,0],"3":[0,0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0,0],"13":[0,0],"14":[0,0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"9dc01a996d5c9deecf24c0b30ec4612223aa29e5"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_15ibpb14a1=function(){return actualCoverage;};}return actualCoverage;}cov_15ibpb14a1();const VALIDATOR=(cov_15ibpb14a1().s[0]++,require('validator'));const PASSPORT=(cov_15ibpb14a1().s[1]++,require('passport'));const USER=(cov_15ibpb14a1().s[2]++,require('mongoose').model('User'));const RECEIPT=(cov_15ibpb14a1().s[3]++,require('mongoose').model('Receipt'));function validateRegisterForm(payload){cov_15ibpb14a1().f[0]++;let errors=(cov_15ibpb14a1().s[4]++,{});let isFormValid=(cov_15ibpb14a1().s[5]++,true);cov_15ibpb14a1().s[6]++;if((cov_15ibpb14a1().b[1][0]++,!payload)||(cov_15ibpb14a1().b[1][1]++,typeof payload.email!=='string')||(cov_15ibpb14a1().b[1][2]++,!VALIDATOR.isEmail(payload.email))){cov_15ibpb14a1().b[0][0]++;cov_15ibpb14a1().s[7]++;isFormValid=false;cov_15ibpb14a1().s[8]++;errors.email='Please provide a correct email address.';}else{cov_15ibpb14a1().b[0][1]++;}cov_15ibpb14a1().s[9]++;if((cov_15ibpb14a1().b[3][0]++,!payload)||(cov_15ibpb14a1().b[3][1]++,typeof payload.password!=='string')||(cov_15ibpb14a1().b[3][2]++,payload.password.trim().length<3)){cov_15ibpb14a1().b[2][0]++;cov_15ibpb14a1().s[10]++;isFormValid=false;cov_15ibpb14a1().s[11]++;errors.password='Password must have at least 3 characters.';}else{cov_15ibpb14a1().b[2][1]++;}cov_15ibpb14a1().s[12]++;if((cov_15ibpb14a1().b[5][0]++,!payload)||(cov_15ibpb14a1().b[5][1]++,payload.password!==payload.confirmPassword)){cov_15ibpb14a1().b[4][0]++;cov_15ibpb14a1().s[13]++;isFormValid=false;cov_15ibpb14a1().s[14]++;errors.passwordsDontMatch='Passwords do not match!';}else{cov_15ibpb14a1().b[4][1]++;}cov_15ibpb14a1().s[15]++;if((cov_15ibpb14a1().b[7][0]++,!payload)||(cov_15ibpb14a1().b[7][1]++,typeof payload.username!=='string')||(cov_15ibpb14a1().b[7][2]++,payload.username.trim().length===0)){cov_15ibpb14a1().b[6][0]++;cov_15ibpb14a1().s[16]++;isFormValid=false;cov_15ibpb14a1().s[17]++;errors.name='Please provide your name.';}else{cov_15ibpb14a1().b[6][1]++;}cov_15ibpb14a1().s[18]++;if(payload.avatar.trim().length!==0){cov_15ibpb14a1().b[8][0]++;cov_15ibpb14a1().s[19]++;if(!VALIDATOR.isURL(payload.avatar)){cov_15ibpb14a1().b[9][0]++;cov_15ibpb14a1().s[20]++;isFormValid=false;cov_15ibpb14a1().s[21]++;errors.avatar='Please provide a valid link to your avatar image or leave the field empty.';}else{cov_15ibpb14a1().b[9][1]++;}}else{cov_15ibpb14a1().b[8][1]++;cov_15ibpb14a1().s[22]++;if(payload.hasOwnProperty('avatar')){cov_15ibpb14a1().b[10][0]++;cov_15ibpb14a1().s[23]++;delete payload['avatar'];}else{cov_15ibpb14a1().b[10][1]++;}}cov_15ibpb14a1().s[24]++;return{success:isFormValid,errors};}function validateLoginForm(payload){cov_15ibpb14a1().f[1]++;let errors=(cov_15ibpb14a1().s[25]++,{});let isFormValid=(cov_15ibpb14a1().s[26]++,true);cov_15ibpb14a1().s[27]++;if((cov_15ibpb14a1().b[12][0]++,!payload)||(cov_15ibpb14a1().b[12][1]++,typeof payload.password!=='string')||(cov_15ibpb14a1().b[12][2]++,payload.password.trim().length===0)){cov_15ibpb14a1().b[11][0]++;cov_15ibpb14a1().s[28]++;isFormValid=false;cov_15ibpb14a1().s[29]++;errors.password='Please provide your password.';}else{cov_15ibpb14a1().b[11][1]++;}cov_15ibpb14a1().s[30]++;if((cov_15ibpb14a1().b[14][0]++,!payload)||(cov_15ibpb14a1().b[14][1]++,typeof payload.username!=='string')||(cov_15ibpb14a1().b[14][2]++,payload.username.trim().length===0)){cov_15ibpb14a1().b[13][0]++;cov_15ibpb14a1().s[31]++;isFormValid=false;cov_15ibpb14a1().s[32]++;errors.name='Please provide your name.';}else{cov_15ibpb14a1().b[13][1]++;}cov_15ibpb14a1().s[33]++;return{success:isFormValid,errors};}function validateAvatarForm(payload){cov_15ibpb14a1().f[2]++;let errors=(cov_15ibpb14a1().s[34]++,{});let isFormValid=(cov_15ibpb14a1().s[35]++,true);cov_15ibpb14a1().s[36]++;if((cov_15ibpb14a1().b[16][0]++,!payload)||(cov_15ibpb14a1().b[16][1]++,!VALIDATOR.isURL(payload.avatar))){cov_15ibpb14a1().b[15][0]++;cov_15ibpb14a1().s[37]++;isFormValid=false;cov_15ibpb14a1().s[38]++;errors.avatar='Please provide a valid link to your avatar image.';}else{cov_15ibpb14a1().b[15][1]++;}cov_15ibpb14a1().s[39]++;return{success:isFormValid,errors};}cov_15ibpb14a1().s[40]++;module.exports={register:(req,res)=>{cov_15ibpb14a1().f[3]++;let validationResult=(cov_15ibpb14a1().s[41]++,validateRegisterForm(req.body));cov_15ibpb14a1().s[42]++;if(!validationResult.success){cov_15ibpb14a1().b[17][0]++;cov_15ibpb14a1().s[43]++;return res.status(400).json({message:'Register form validation failed!',errors:validationResult.errors});}else{cov_15ibpb14a1().b[17][1]++;}cov_15ibpb14a1().s[44]++;PASSPORT.authenticate('local-register',(err,token)=>{cov_15ibpb14a1().f[4]++;cov_15ibpb14a1().s[45]++;if((cov_15ibpb14a1().b[19][0]++,err)||(cov_15ibpb14a1().b[19][1]++,!token)){cov_15ibpb14a1().b[18][0]++;cov_15ibpb14a1().s[46]++;return res.status(400).json({message:'Registration failed!',errors:{'taken':'Username or email already taken'}});}else{cov_15ibpb14a1().b[18][1]++;}cov_15ibpb14a1().s[47]++;return res.status(200).json({message:'Registration successful!',data:token});})(req,res);},login:(req,res)=>{cov_15ibpb14a1().f[5]++;let validationResult=(cov_15ibpb14a1().s[48]++,validateLoginForm(req.body));cov_15ibpb14a1().s[49]++;if(!validationResult.success){cov_15ibpb14a1().b[20][0]++;cov_15ibpb14a1().s[50]++;return res.status(400).json({message:'Login form validation failed!',errors:validationResult.errors});}else{cov_15ibpb14a1().b[20][1]++;}cov_15ibpb14a1().s[51]++;PASSPORT.authenticate('local-login',(err,token)=>{cov_15ibpb14a1().f[6]++;cov_15ibpb14a1().s[52]++;if((cov_15ibpb14a1().b[22][0]++,err)||(cov_15ibpb14a1().b[22][1]++,!token)){cov_15ibpb14a1().b[21][0]++;cov_15ibpb14a1().s[53]++;return res.status(400).json({message:'Invalid Credentials!'});}else{cov_15ibpb14a1().b[21][1]++;}cov_15ibpb14a1().s[54]++;return res.status(200).json({message:'Login successful!',data:token});})(req,res);},getProfile:(req,res)=>{cov_15ibpb14a1().f[7]++;let username=(cov_15ibpb14a1().s[55]++,req.params.username);cov_15ibpb14a1().s[56]++;USER.findOne({username:username}).populate('favoriteBooks').then(user=>{cov_15ibpb14a1().f[8]++;cov_15ibpb14a1().s[57]++;if(!user){cov_15ibpb14a1().b[23][0]++;cov_15ibpb14a1().s[58]++;return res.status(400).json({message:`User ${username} not found in our database`});}else{cov_15ibpb14a1().b[23][1]++;}let userToSend=(cov_15ibpb14a1().s[59]++,{id:user.id,isAdmin:user.isAdmin,username:user.username,avatar:user.avatar,commentsCount:user.commentsCount,favoriteBooks:user.favoriteBooks});cov_15ibpb14a1().s[60]++;return res.status(200).json({message:'',data:userToSend});}).catch(err=>{cov_15ibpb14a1().f[9]++;cov_15ibpb14a1().s[61]++;console.log(err);cov_15ibpb14a1().s[62]++;return res.status(400).json({message:'Something went wrong, please try again.'});});},getPurchaseHistory:(req,res)=>{cov_15ibpb14a1().f[10]++;let userId=(cov_15ibpb14a1().s[63]++,req.user.id);cov_15ibpb14a1().s[64]++;RECEIPT.find({user:userId}).sort({creationDate:-1}).then(receipts=>{cov_15ibpb14a1().f[11]++;cov_15ibpb14a1().s[65]++;res.status(200).json({message:'',data:receipts});});},changeAvatar:(req,res)=>{cov_15ibpb14a1().f[12]++;let requesterId=(cov_15ibpb14a1().s[66]++,req.user.id);let requesterIsAdmin=(cov_15ibpb14a1().s[67]++,req.user.isAdmin);let userToChange=(cov_15ibpb14a1().s[68]++,req.body.id);let newAvatar=(cov_15ibpb14a1().s[69]++,req.body.avatar);let validationResult=(cov_15ibpb14a1().s[70]++,validateAvatarForm(req.body));cov_15ibpb14a1().s[71]++;if(!validationResult.success){cov_15ibpb14a1().b[24][0]++;cov_15ibpb14a1().s[72]++;return res.status(400).json({message:'Avatar form validation failed!',errors:validationResult.errors});}else{cov_15ibpb14a1().b[24][1]++;}cov_15ibpb14a1().s[73]++;if((cov_15ibpb14a1().b[26][0]++,requesterId!==userToChange)&&(cov_15ibpb14a1().b[26][1]++,!requesterIsAdmin)){cov_15ibpb14a1().b[25][0]++;cov_15ibpb14a1().s[74]++;return res.status(401).json({message:'You\'re not allowed to change other user avatar!'});}else{cov_15ibpb14a1().b[25][1]++;}cov_15ibpb14a1().s[75]++;USER.update({_id:userToChange},{$set:{avatar:newAvatar}}).then(()=>{cov_15ibpb14a1().f[13]++;cov_15ibpb14a1().s[76]++;return res.status(200).json({message:'Avatar changed successfully!'});}).catch(err=>{cov_15ibpb14a1().f[14]++;cov_15ibpb14a1().s[77]++;console.log(err);cov_15ibpb14a1().s[78]++;return res.status(400).json({message:'Something went wrong, please try again.'});});},blockComments:(req,res)=>{cov_15ibpb14a1().f[15]++;let userId=(cov_15ibpb14a1().s[79]++,req.params.userId);cov_15ibpb14a1().s[80]++;USER.findById(userId).then(user=>{cov_15ibpb14a1().f[16]++;cov_15ibpb14a1().s[81]++;if(!user){cov_15ibpb14a1().b[27][0]++;cov_15ibpb14a1().s[82]++;return res.status(400).json({message:`User ${user.username} not found in our database`});}else{cov_15ibpb14a1().b[27][1]++;}cov_15ibpb14a1().s[83]++;user.isCommentsBlocked=true;cov_15ibpb14a1().s[84]++;user.save();cov_15ibpb14a1().s[85]++;res.status(200).json({message:`User ${user.username} blocked from posting comments!`});}).catch(err=>{cov_15ibpb14a1().f[17]++;cov_15ibpb14a1().s[86]++;console.log(err);cov_15ibpb14a1().s[87]++;return res.status(400).json({message:'Something went wrong, please try again.'});});},unblockComments:(req,res)=>{cov_15ibpb14a1().f[18]++;let userId=(cov_15ibpb14a1().s[88]++,req.params.userId);cov_15ibpb14a1().s[89]++;USER.findById(userId).then(user=>{cov_15ibpb14a1().f[19]++;cov_15ibpb14a1().s[90]++;if(!user){cov_15ibpb14a1().b[28][0]++;cov_15ibpb14a1().s[91]++;return res.status(400).json({message:`User ${user.username} not found in our database`});}else{cov_15ibpb14a1().b[28][1]++;}cov_15ibpb14a1().s[92]++;user.isCommentsBlocked=false;cov_15ibpb14a1().s[93]++;user.save();cov_15ibpb14a1().s[94]++;res.status(200).json({message:`User ${user.username} can now post comments!`});}).catch(err=>{cov_15ibpb14a1().f[20]++;cov_15ibpb14a1().s[95]++;console.log(err);cov_15ibpb14a1().s[96]++;return res.status(400).json({message:'Something went wrong, please try again.'});});}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJWQUxJREFUT1IiLCJyZXF1aXJlIiwiUEFTU1BPUlQiLCJVU0VSIiwibW9kZWwiLCJSRUNFSVBUIiwidmFsaWRhdGVSZWdpc3RlckZvcm0iLCJwYXlsb2FkIiwiZXJyb3JzIiwiaXNGb3JtVmFsaWQiLCJlbWFpbCIsImlzRW1haWwiLCJwYXNzd29yZCIsInRyaW0iLCJsZW5ndGgiLCJjb25maXJtUGFzc3dvcmQiLCJwYXNzd29yZHNEb250TWF0Y2giLCJ1c2VybmFtZSIsIm5hbWUiLCJhdmF0YXIiLCJpc1VSTCIsImhhc093blByb3BlcnR5Iiwic3VjY2VzcyIsInZhbGlkYXRlTG9naW5Gb3JtIiwidmFsaWRhdGVBdmF0YXJGb3JtIiwibW9kdWxlIiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwidmFsaWRhdGlvblJlc3VsdCIsImJvZHkiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImF1dGhlbnRpY2F0ZSIsImVyciIsInRva2VuIiwiZGF0YSIsImxvZ2luIiwiZ2V0UHJvZmlsZSIsInBhcmFtcyIsImZpbmRPbmUiLCJwb3B1bGF0ZSIsInRoZW4iLCJ1c2VyIiwidXNlclRvU2VuZCIsImlkIiwiaXNBZG1pbiIsImNvbW1lbnRzQ291bnQiLCJmYXZvcml0ZUJvb2tzIiwiY2F0Y2giLCJjb25zb2xlIiwibG9nIiwiZ2V0UHVyY2hhc2VIaXN0b3J5IiwidXNlcklkIiwiZmluZCIsInNvcnQiLCJjcmVhdGlvbkRhdGUiLCJyZWNlaXB0cyIsImNoYW5nZUF2YXRhciIsInJlcXVlc3RlcklkIiwicmVxdWVzdGVySXNBZG1pbiIsInVzZXJUb0NoYW5nZSIsIm5ld0F2YXRhciIsInVwZGF0ZSIsIl9pZCIsIiRzZXQiLCJibG9ja0NvbW1lbnRzIiwiZmluZEJ5SWQiLCJpc0NvbW1lbnRzQmxvY2tlZCIsInNhdmUiLCJ1bmJsb2NrQ29tbWVudHMiXSwic291cmNlcyI6WyJ1c2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFZBTElEQVRPUiA9IHJlcXVpcmUoJ3ZhbGlkYXRvcicpO1xyXG5jb25zdCBQQVNTUE9SVCA9IHJlcXVpcmUoJ3Bhc3Nwb3J0Jyk7XHJcbmNvbnN0IFVTRVIgPSByZXF1aXJlKCdtb25nb29zZScpLm1vZGVsKCdVc2VyJyk7XHJcbmNvbnN0IFJFQ0VJUFQgPSByZXF1aXJlKCdtb25nb29zZScpLm1vZGVsKCdSZWNlaXB0Jyk7XHJcblxyXG5mdW5jdGlvbiB2YWxpZGF0ZVJlZ2lzdGVyRm9ybShwYXlsb2FkKSB7XHJcbiAgICBsZXQgZXJyb3JzID0ge307XHJcbiAgICBsZXQgaXNGb3JtVmFsaWQgPSB0cnVlO1xyXG5cclxuICAgIGlmICghcGF5bG9hZCB8fCB0eXBlb2YgcGF5bG9hZC5lbWFpbCAhPT0gJ3N0cmluZycgfHwgIVZBTElEQVRPUi5pc0VtYWlsKHBheWxvYWQuZW1haWwpKSB7XHJcbiAgICAgICAgaXNGb3JtVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICBlcnJvcnMuZW1haWwgPSAnUGxlYXNlIHByb3ZpZGUgYSBjb3JyZWN0IGVtYWlsIGFkZHJlc3MuJztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXBheWxvYWQgfHwgdHlwZW9mIHBheWxvYWQucGFzc3dvcmQgIT09ICdzdHJpbmcnIHx8IHBheWxvYWQucGFzc3dvcmQudHJpbSgpLmxlbmd0aCA8IDMpIHtcclxuICAgICAgICBpc0Zvcm1WYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgIGVycm9ycy5wYXNzd29yZCA9ICdQYXNzd29yZCBtdXN0IGhhdmUgYXQgbGVhc3QgMyBjaGFyYWN0ZXJzLic7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFwYXlsb2FkIHx8IHBheWxvYWQucGFzc3dvcmQgIT09IHBheWxvYWQuY29uZmlybVBhc3N3b3JkKSB7XHJcbiAgICAgICAgaXNGb3JtVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICBlcnJvcnMucGFzc3dvcmRzRG9udE1hdGNoID0gJ1Bhc3N3b3JkcyBkbyBub3QgbWF0Y2ghJztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXBheWxvYWQgfHwgdHlwZW9mIHBheWxvYWQudXNlcm5hbWUgIT09ICdzdHJpbmcnIHx8IHBheWxvYWQudXNlcm5hbWUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGlzRm9ybVZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgZXJyb3JzLm5hbWUgPSAnUGxlYXNlIHByb3ZpZGUgeW91ciBuYW1lLic7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHBheWxvYWQuYXZhdGFyLnRyaW0oKS5sZW5ndGggIT09IDApIHtcclxuICAgICAgICBpZiAoIVZBTElEQVRPUi5pc1VSTChwYXlsb2FkLmF2YXRhcikpIHtcclxuICAgICAgICAgICAgaXNGb3JtVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgZXJyb3JzLmF2YXRhciA9ICdQbGVhc2UgcHJvdmlkZSBhIHZhbGlkIGxpbmsgdG8geW91ciBhdmF0YXIgaW1hZ2Ugb3IgbGVhdmUgdGhlIGZpZWxkIGVtcHR5Lic7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAocGF5bG9hZC5oYXNPd25Qcm9wZXJ0eSgnYXZhdGFyJykpIHtcclxuICAgICAgICAgICAgZGVsZXRlIHBheWxvYWRbJ2F2YXRhciddO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3M6IGlzRm9ybVZhbGlkLFxyXG4gICAgICAgIGVycm9yc1xyXG4gICAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gdmFsaWRhdGVMb2dpbkZvcm0ocGF5bG9hZCkge1xyXG4gICAgbGV0IGVycm9ycyA9IHt9O1xyXG4gICAgbGV0IGlzRm9ybVZhbGlkID0gdHJ1ZTtcclxuXHJcbiAgICBpZiAoIXBheWxvYWQgfHwgdHlwZW9mIHBheWxvYWQucGFzc3dvcmQgIT09ICdzdHJpbmcnIHx8IHBheWxvYWQucGFzc3dvcmQudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGlzRm9ybVZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgZXJyb3JzLnBhc3N3b3JkID0gJ1BsZWFzZSBwcm92aWRlIHlvdXIgcGFzc3dvcmQuJztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXBheWxvYWQgfHwgdHlwZW9mIHBheWxvYWQudXNlcm5hbWUgIT09ICdzdHJpbmcnIHx8IHBheWxvYWQudXNlcm5hbWUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGlzRm9ybVZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgZXJyb3JzLm5hbWUgPSAnUGxlYXNlIHByb3ZpZGUgeW91ciBuYW1lLic7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiBpc0Zvcm1WYWxpZCxcclxuICAgICAgICBlcnJvcnNcclxuICAgIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHZhbGlkYXRlQXZhdGFyRm9ybShwYXlsb2FkKSB7XHJcbiAgICBsZXQgZXJyb3JzID0ge307XHJcbiAgICBsZXQgaXNGb3JtVmFsaWQgPSB0cnVlO1xyXG5cclxuICAgIGlmICghcGF5bG9hZCB8fCAhVkFMSURBVE9SLmlzVVJMKHBheWxvYWQuYXZhdGFyKSkge1xyXG4gICAgICAgIGlzRm9ybVZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgZXJyb3JzLmF2YXRhciA9ICdQbGVhc2UgcHJvdmlkZSBhIHZhbGlkIGxpbmsgdG8geW91ciBhdmF0YXIgaW1hZ2UuJztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3M6IGlzRm9ybVZhbGlkLFxyXG4gICAgICAgIGVycm9yc1xyXG4gICAgfTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICByZWdpc3RlcjogKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgICAgIGxldCB2YWxpZGF0aW9uUmVzdWx0ID0gdmFsaWRhdGVSZWdpc3RlckZvcm0ocmVxLmJvZHkpO1xyXG5cclxuICAgICAgICBpZiAoIXZhbGlkYXRpb25SZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ1JlZ2lzdGVyIGZvcm0gdmFsaWRhdGlvbiBmYWlsZWQhJyxcclxuICAgICAgICAgICAgICAgIGVycm9yczogdmFsaWRhdGlvblJlc3VsdC5lcnJvcnNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBQQVNTUE9SVC5hdXRoZW50aWNhdGUoJ2xvY2FsLXJlZ2lzdGVyJywgKGVyciwgdG9rZW4pID0+IHtcclxuICAgICAgICAgICAgaWYgKGVyciB8fCAhdG9rZW4pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ1JlZ2lzdHJhdGlvbiBmYWlsZWQhJyxcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcnM6IHsgJ3Rha2VuJzogJ1VzZXJuYW1lIG9yIGVtYWlsIGFscmVhZHkgdGFrZW4nIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ1JlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsIScsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB0b2tlblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KShyZXEsIHJlcyk7XHJcbiAgICB9LFxyXG5cclxuICAgIGxvZ2luOiAocmVxLCByZXMpID0+IHtcclxuICAgICAgICBsZXQgdmFsaWRhdGlvblJlc3VsdCA9IHZhbGlkYXRlTG9naW5Gb3JtKHJlcS5ib2R5KTtcclxuXHJcbiAgICAgICAgaWYgKCF2YWxpZGF0aW9uUmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdMb2dpbiBmb3JtIHZhbGlkYXRpb24gZmFpbGVkIScsXHJcbiAgICAgICAgICAgICAgICBlcnJvcnM6IHZhbGlkYXRpb25SZXN1bHQuZXJyb3JzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgUEFTU1BPUlQuYXV0aGVudGljYXRlKCdsb2NhbC1sb2dpbicsIChlcnIsIHRva2VuKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnIgfHwgIXRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIENyZWRlbnRpYWxzISdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0xvZ2luIHN1Y2Nlc3NmdWwhJyxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHRva2VuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pKHJlcSwgcmVzKTtcclxuICAgIH0sXHJcblxyXG4gICAgZ2V0UHJvZmlsZTogKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgbGV0IHVzZXJuYW1lID0gcmVxLnBhcmFtcy51c2VybmFtZTtcclxuXHJcbiAgICAgICAgVVNFUi5maW5kT25lKHsgdXNlcm5hbWU6IHVzZXJuYW1lIH0pXHJcbiAgICAgICAgICAgIC5wb3B1bGF0ZSgnZmF2b3JpdGVCb29rcycpXHJcbiAgICAgICAgICAgIC50aGVuKCh1c2VyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgVXNlciAke3VzZXJuYW1lfSBub3QgZm91bmQgaW4gb3VyIGRhdGFiYXNlYFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCB1c2VyVG9TZW5kID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiB1c2VyLmlkLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzQWRtaW46IHVzZXIuaXNBZG1pbixcclxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1lbnRzQ291bnQ6IHVzZXIuY29tbWVudHNDb3VudCxcclxuICAgICAgICAgICAgICAgICAgICBmYXZvcml0ZUJvb2tzOiB1c2VyLmZhdm9yaXRlQm9va3MsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogdXNlclRvU2VuZFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnU29tZXRoaW5nIHdlbnQgd3JvbmcsIHBsZWFzZSB0cnkgYWdhaW4uJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgICBnZXRQdXJjaGFzZUhpc3Rvcnk6IChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIGxldCB1c2VySWQgPSByZXEudXNlci5pZDtcclxuICAgICAgICBSRUNFSVBUXHJcbiAgICAgICAgICAgIC5maW5kKHsgdXNlcjogdXNlcklkIH0pXHJcbiAgICAgICAgICAgIC5zb3J0KHsgY3JlYXRpb25EYXRlOiAtMSB9KVxyXG4gICAgICAgICAgICAudGhlbigocmVjZWlwdHMpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnJyxcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiByZWNlaXB0c1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgICBjaGFuZ2VBdmF0YXI6IChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIGxldCByZXF1ZXN0ZXJJZCA9IHJlcS51c2VyLmlkO1xyXG4gICAgICAgIGxldCByZXF1ZXN0ZXJJc0FkbWluID0gcmVxLnVzZXIuaXNBZG1pbjtcclxuICAgICAgICBsZXQgdXNlclRvQ2hhbmdlID0gcmVxLmJvZHkuaWQ7XHJcbiAgICAgICAgbGV0IG5ld0F2YXRhciA9IHJlcS5ib2R5LmF2YXRhcjtcclxuXHJcbiAgICAgICAgbGV0IHZhbGlkYXRpb25SZXN1bHQgPSB2YWxpZGF0ZUF2YXRhckZvcm0ocmVxLmJvZHkpO1xyXG5cclxuICAgICAgICBpZiAoIXZhbGlkYXRpb25SZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0F2YXRhciBmb3JtIHZhbGlkYXRpb24gZmFpbGVkIScsXHJcbiAgICAgICAgICAgICAgICBlcnJvcnM6IHZhbGlkYXRpb25SZXN1bHQuZXJyb3JzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHJlcXVlc3RlcklkICE9PSB1c2VyVG9DaGFuZ2UgJiYgIXJlcXVlc3RlcklzQWRtaW4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdZb3VcXCdyZSBub3QgYWxsb3dlZCB0byBjaGFuZ2Ugb3RoZXIgdXNlciBhdmF0YXIhJ1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFVTRVJcclxuICAgICAgICAgICAgLnVwZGF0ZSh7IF9pZDogdXNlclRvQ2hhbmdlIH0sIHsgJHNldDogeyBhdmF0YXI6IG5ld0F2YXRhciB9IH0pXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0F2YXRhciBjaGFuZ2VkIHN1Y2Nlc3NmdWxseSEnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdTb21ldGhpbmcgd2VudCB3cm9uZywgcGxlYXNlIHRyeSBhZ2Fpbi4nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuICAgIGJsb2NrQ29tbWVudHM6IChyZXEsIHJlcykgPT4ge1xyXG4gICAgICAgIGxldCB1c2VySWQgPSByZXEucGFyYW1zLnVzZXJJZDtcclxuXHJcbiAgICAgICAgVVNFUi5maW5kQnlJZCh1c2VySWQpLnRoZW4oKHVzZXIpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGBVc2VyICR7dXNlci51c2VybmFtZX0gbm90IGZvdW5kIGluIG91ciBkYXRhYmFzZWBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB1c2VyLmlzQ29tbWVudHNCbG9ja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdXNlci5zYXZlKCk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgVXNlciAke3VzZXIudXNlcm5hbWV9IGJsb2NrZWQgZnJvbSBwb3N0aW5nIGNvbW1lbnRzIWBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ1NvbWV0aGluZyB3ZW50IHdyb25nLCBwbGVhc2UgdHJ5IGFnYWluLidcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuICAgIHVuYmxvY2tDb21tZW50czogKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAgICAgbGV0IHVzZXJJZCA9IHJlcS5wYXJhbXMudXNlcklkO1xyXG5cclxuICAgICAgICBVU0VSLmZpbmRCeUlkKHVzZXJJZCkudGhlbigodXNlcikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYFVzZXIgJHt1c2VyLnVzZXJuYW1lfSBub3QgZm91bmQgaW4gb3VyIGRhdGFiYXNlYFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHVzZXIuaXNDb21tZW50c0Jsb2NrZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdXNlci5zYXZlKCk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBgVXNlciAke3VzZXIudXNlcm5hbWV9IGNhbiBub3cgcG9zdCBjb21tZW50cyFgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdTb21ldGhpbmcgd2VudCB3cm9uZywgcGxlYXNlIHRyeSBhZ2Fpbi4nXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59OyJdLCJtYXBwaW5ncyI6InluZ0JBZVk7QUFBQSwyRkFmWixLQUFNQSxVQUFTLDBCQUFHQyxPQUFPLENBQUMsV0FBVyxDQUFDLEVBQ3RDLEtBQU1DLFNBQVEsMEJBQUdELE9BQU8sQ0FBQyxVQUFVLENBQUMsRUFDcEMsS0FBTUUsS0FBSSwwQkFBR0YsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDRyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQzlDLEtBQU1DLFFBQU8sMEJBQUdKLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQ0csS0FBSyxDQUFDLFNBQVMsQ0FBQyxFQUVwRCxRQUFTRSxxQkFBb0IsQ0FBQ0MsT0FBTyxDQUFFLHlCQUNuQyxHQUFJQyxPQUFNLDBCQUFHLENBQUMsQ0FBQyxFQUNmLEdBQUlDLFlBQVcsMEJBQUcsSUFBSSxFQUFDLHdCQUV2QixHQUFJLDZC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